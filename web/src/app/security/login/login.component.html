<app-header></app-header>
<div class="login-page">
  <div class="login-container">
    <!-- Left Side - Branding -->
    <div class="branding-section">
      <div class="branding-content">
        <div class="logo-wrapper">
          <img src="../../../assets/apple.jpg" alt="Logo" class="brand-logo">
        </div>
        <h1 class="brand-title">Chào mừng trở lại</h1>
        <p class="brand-description">
          Đăng nhập để truy cập vào hệ thống và quản lý tài khoản của bạn
        </p>
        <div class="decorative-shapes">
          <div class="shape shape-1"></div>
          <div class="shape shape-2"></div>
          <div class="shape shape-3"></div>
        </div>
      </div>
    </div>

    <!-- Right Side - Login Form -->
    <div class="form-section">
      <div class="form-content">
        <div class="form-header">
          <h2 class="form-title">Đăng nhập</h2>
          <p class="form-subtitle">Nhập thông tin để tiếp tục</p>
        </div>

        <!-- Toast Notification -->
        <div class="toast-notification" *ngIf="isOpenToast">
          <div class="toast-content">
            <svg class="toast-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="8" x2="12" y2="12"></line>
              <line x1="12" y1="16" x2="12.01" y2="16"></line>
            </svg>
            <span>Sai tên đăng nhập hoặc mật khẩu</span>
            <button class="toast-close" (click)="hideToast()" aria-label="Close">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
              </svg>
            </button>
          </div>
        </div>

        <form [formGroup]="formLogin" (ngSubmit)="doSubmit()" class="login-form">
          <!-- Username Field -->
          <div class="form-group">
            <label for="username" class="form-label">
              Tên đăng nhập
              <span class="required">*</span>
            </label>
            <div class="input-wrapper">
              <svg class="input-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
              </svg>
              <input 
                type="text" 
                class="form-input" 
                formControlName="userName" 
                id="username"
                placeholder="Nhập tên đăng nhập"
                [ngClass]="(login.userName?.touched || isSubmit) ? (login.userName?.invalid ? 'input-error' : 'input-success') : ''">
            </div>
            <div class="error-message" *ngIf="(login.userName?.touched || isSubmit) && login.userName?.errors?.required">
              <svg class="error-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="8" x2="12" y2="12"></line>
                <line x1="12" y1="16" x2="12.01" y2="16"></line>
              </svg>
              Tên đăng nhập không được để trống
            </div>
          </div>

          <!-- Password Field -->
          <div class="form-group">
            <label for="password" class="form-label">
              Mật khẩu
              <span class="required">*</span>
            </label>
            <div class="input-wrapper">
              <svg class="input-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
              </svg>
              <input 
                type="password" 
                class="form-input" 
                formControlName="password" 
                autocomplete="on" 
                id="password"
                placeholder="Nhập mật khẩu"
                [ngClass]="(login.password?.touched || isSubmit) ? (login.password?.invalid ? 'input-error' : 'input-success') : ''">
            </div>
            <div class="error-message" *ngIf="(login.password?.touched || isSubmit) && login.password?.errors?.required">
              <svg class="error-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="8" x2="12" y2="12"></line>
                <line x1="12" y1="16" x2="12.01" y2="16"></line>
              </svg>
              Mật khẩu không được để trống
            </div>
          </div>

          <!-- Remember Me & Register -->
          <div class="form-options">
            <div class="checkbox-wrapper">
              <input 
                type="checkbox" 
                class="custom-checkbox" 
                id="rememberMe" 
                formControlName="rememberMe">
              <label for="rememberMe" class="checkbox-label">Ghi nhớ đăng nhập</label>
            </div>
            <a routerLink="/register" class="register-link">Tạo tài khoản mới</a>
          </div>

          <!-- Submit Button -->
          <button type="submit" class="submit-button">
            <span>Đăng nhập</span>
            <svg class="button-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <line x1="5" y1="12" x2="19" y2="12"></line>
              <polyline points="12 5 19 12 12 19"></polyline>
            </svg>
          </button>
        </form>

        <div class="form-footer">
          <p>Bạn cần hỗ trợ? <a href="#" class="support-link">Liên hệ với chúng tôi</a></p>
        </div>
      </div>
    </div>
  </div>
</div>
<app-footer></app-footer>